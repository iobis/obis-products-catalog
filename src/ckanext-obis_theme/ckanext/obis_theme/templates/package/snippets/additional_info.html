{# Comprehensive additional info template that shows all available metadata #}

<section class="additional-info">
  <h3>{{ _('Additional Info') }}</h3>
  
  <table class="table table-striped table-bordered table-condensed">
    <thead>
      <tr>
        <th scope="col">{{ _('Field') }}</th>
        <th scope="col">{{ _('Value') }}</th>
      </tr>
    </thead>
    <tbody>
      {# Canonical ID / DOI #}
      {% if pkg_dict.canonical_id %}
        <tr>
          <th scope="row">{{ _('Canonical ID') }}</th>
          <td><a href="{{ pkg_dict.canonical_id }}" target="_blank">{{ pkg_dict.canonical_id }}</a></td>
        </tr>
      {% endif %}

      {# DOI (if different from canonical_id) #}
      {% if pkg_dict.doi and pkg_dict.doi != pkg_dict.canonical_id %}
        <tr>
          <th scope="row">{{ _('DOI') }}</th>
          <td><a href="{{ pkg_dict.doi }}" target="_blank">{{ pkg_dict.doi }}</a></td>
        </tr>
      {% endif %}

      {# Resource Type #}
      {% if pkg_dict.resource_type %}
        <tr>
          <th scope="row">{{ _('Resource Type') }}</th>
          <td>{{ pkg_dict.resource_type }}</td>
        </tr>
      {% endif %}

      {# Authors #}
      {% if pkg_dict.authors %}
        <tr>
          <th scope="row">{{ _('Authors') }}</th>
          <td><pre style="background: #f5f5f5; padding: 10px; border-radius: 4px; font-size: 0.9em; margin: 0; white-space: pre-wrap;">{{ pkg_dict.authors | tojson(indent=2) }}</pre></td>
        </tr>
      {% endif %}

      {# Contributors #}
      {% if pkg_dict.contributors %}
        <tr>
          <th scope="row">{{ _('Contributors') }}</th>
          <td><pre style="background: #f5f5f5; padding: 10px; border-radius: 4px; font-size: 0.9em; margin: 0; white-space: pre-wrap;">{{ pkg_dict.contributors | tojson(indent=2) }}</pre></td>
        </tr>
      {% endif %}

      {# Publisher #}
      {% if pkg_dict.publisher_name %}
        <tr>
          <th scope="row">{{ _('Publisher') }}</th>
          <td>{{ pkg_dict.publisher_name }}</td>
        </tr>
      {% endif %}

      {# Date Published #}
      {% if pkg_dict.date_published %}
        <tr>
          <th scope="row">{{ _('Date Published') }}</th>
          <td>{{ pkg_dict.date_published }}</td>
        </tr>
      {% endif %}

      {# Date Created #}
      {% if pkg_dict.date_created %}
        <tr>
          <th scope="row">{{ _('Date Created') }}</th>
          <td>{{ pkg_dict.date_created }}</td>
        </tr>
      {% endif %}

      {# Date Modified #}
      {% if pkg_dict.date_modified %}
        <tr>
          <th scope="row">{{ _('Date Modified') }}</th>
          <td>{{ pkg_dict.date_modified }}</td>
        </tr>
      {% endif %}

      {# License #}
      {% if pkg_dict.license_title %}
        <tr>
          <th scope="row">{{ _('License') }}</th>
          <td>
            {% if pkg_dict.license_url %}
              <a href="{{ pkg_dict.license_url }}" target="_blank">{{ pkg_dict.license_title }}</a>
            {% else %}
              {{ pkg_dict.license_title }}
            {% endif %}
          </td>
        </tr>
      {% endif %}

      {# Keywords #}
      {% if pkg_dict.keywords %}
        <tr>
          <th scope="row">{{ _('Keywords') }}</th>
          <td>{{ pkg_dict.keywords }}</td>
        </tr>
      {% endif %}

      {# Language #}
      {% if pkg_dict.language %}
        <tr>
          <th scope="row">{{ _('Language') }}</th>
          <td>{{ pkg_dict.language }}</td>
        </tr>
      {% endif %}
      
      {# Product Types #}
      {% if pkg_dict.product_type_tags %}
        <tr>
          <th scope="row">{{ _('Product Types') }}</th>
          <td>
            {% if pkg_dict.product_type_tags is string %}
              <span class="label label-info" style="background-color: #5bc0de; color: white; padding: 3px 8px; border-radius: 3px; font-size: 12px; display: inline-block; margin-right: 5px; margin-bottom: 5px;">{{ pkg_dict.product_type_tags }}</span>
            {% else %}
              {% for item in pkg_dict.product_type_tags %}
                <span class="label label-info" style="background-color: #5bc0de; color: white; padding: 3px 8px; border-radius: 3px; font-size: 12px; display: inline-block; margin-right: 5px; margin-bottom: 5px;">{{ item }}</span>
              {% endfor %}
            {% endif %}
          </td>
        </tr>
      {% endif %}

      {# Thematic Areas #}
      {% if pkg_dict.thematic_tags %}
        <tr>
          <th scope="row">{{ _('Thematic Areas') }}</th>
          <td>
            {% if pkg_dict.thematic_tags is string %}
              <span class="label label-success" style="background-color: #5cb85c; color: white; padding: 3px 8px; border-radius: 3px; font-size: 12px; display: inline-block; margin-right: 5px; margin-bottom: 5px;">{{ pkg_dict.thematic_tags }}</span>
            {% else %}
              {% for item in pkg_dict.thematic_tags %}
                <span class="label label-success" style="background-color: #5cb85c; color: white; padding: 3px 8px; border-radius: 3px; font-size: 12px; display: inline-block; margin-right: 5px; margin-bottom: 5px;">{{ item }}</span>
              {% endfor %}
            {% endif %}
          </td>
        </tr>
      {% endif %}

      {# Version #}
      {% if pkg_dict.version %}
        <tr>
          <th scope="row">{{ _('Version') }}</th>
          <td>{{ pkg_dict.version }}</td>
        </tr>
      {% endif %}

      {# Temporal Coverage #}
      {% if pkg_dict.temporal_coverage %}
        <tr>
          <th scope="row">{{ _('Temporal Coverage') }}</th>
          <td>{{ pkg_dict.temporal_coverage }}</td>
        </tr>
      {% endif %}

      {# Spatial Coverage Type #}
      {% if pkg_dict.spatial_coverage_type %}
        <tr>
          <th scope="row">{{ _('Spatial Coverage Type') }}</th>
          <td>{{ pkg_dict.spatial_coverage_type | capitalize }}</td>
        </tr>
      {% endif %}

      {# Spatial Bounding Box #}
      {% if pkg_dict.spatial_box %}
        <tr>
          <th scope="row">{{ _('Spatial Bounding Box') }}</th>
          <td>{{ pkg_dict.spatial_box }}</td>
        </tr>
      {% endif %}

      {# Spatial Point #}
      {% if pkg_dict.spatial_point_latitude and pkg_dict.spatial_point_longitude %}
        <tr>
          <th scope="row">{{ _('Spatial Point') }}</th>
          <td>Lat: {{ pkg_dict.spatial_point_latitude }}, Lon: {{ pkg_dict.spatial_point_longitude }}</td>
        </tr>
      {% endif %}

      {# Spatial Description #}
      {% if pkg_dict.spatial_description %}
        <tr>
          <th scope="row">{{ _('Spatial Description') }}</th>
          <td>{{ pkg_dict.spatial_description }}</td>
        </tr>
      {% endif %}

      {# Funding #}
      {% if pkg_dict.funding %}
        <tr>
          <th scope="row">{{ _('Funding') }}</th>
          <td><pre style="background: #f5f5f5; padding: 10px; border-radius: 4px; font-size: 0.9em; margin: 0; white-space: pre-wrap;">{{ pkg_dict.funding | tojson(indent=2) }}</pre></td>
        </tr>
      {% endif %}

      {# Zenodo Record ID #}
      {% if pkg_dict.zenodo_record_id %}
        <tr>
          <th scope="row">{{ _('Zenodo Record ID') }}</th>
          <td>
            <a href="https://zenodo.org/records/{{ pkg_dict.zenodo_record_id }}" target="_blank">
              {{ pkg_dict.zenodo_record_id }}
            </a>
          </td>
        </tr>
      {% endif %}

      {# Zenodo URL #}
      {% if pkg_dict.zenodo_url %}
        <tr>
          <th scope="row">{{ _('Zenodo URL') }}</th>
          <td><a href="{{ pkg_dict.zenodo_url }}" target="_blank">{{ pkg_dict.zenodo_url }}</a></td>
        </tr>
      {% endif %}

      {# Content Size #}
      {% if pkg_dict.content_size %}
        <tr>
          <th scope="row">{{ _('Content Size') }}</th>
          <td>{{ pkg_dict.content_size }}</td>
        </tr>
      {% endif %}

      {# Harvest Timestamp #}
      {% if pkg_dict.harvest_timestamp %}
        <tr>
          <th scope="row">{{ _('Harvest Timestamp') }}</th>
          <td>{{ pkg_dict.harvest_timestamp }}</td>
        </tr>
      {% endif %}

      {# CKAN Metadata #}
      <tr>
        <th scope="row">{{ _('Metadata Created') }}</th>
        <td>{{ h.render_datetime(pkg_dict.metadata_created, with_hours=True) }}</td>
      </tr>

      <tr>
        <th scope="row">{{ _('Metadata Modified') }}</th>
        <td>{{ h.render_datetime(pkg_dict.metadata_modified, with_hours=True) }}</td>
      </tr>
    </tbody>
  </table>
</section>